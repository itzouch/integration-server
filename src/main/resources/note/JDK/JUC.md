# 并发编程-暂时完结
1. ConcurrentHashMap的实现原理
1.7前 Segement分段锁 使用Reentrantlock来保证并发安全
1.8后 数组+链表/红黑树  使用CAS+Synchronized来保证并发安全


2. 讲讲Synchronized
- Java中的关键字
- 静态方法-类Class对象-全局唯一，相当于全局锁
- 普通方法-类实例对象
- 代码块-静态对象/实例对象/类对象

- 当修饰代码块时，编译时会在代码前后生成monitorenter和monitorexit指令
- 当修饰方法时，编译时会生成ACC_SYNCHRONIZED 标记。

3. 偏向锁、轻量级锁、重量级锁
- 偏向锁：当只有一个线程获取锁，此时只是偏向锁。当第二个线程尝试获取时，就会升级为轻量级锁。
- 轻量级锁：当多个线程获取锁，此时是轻量级锁，如果获取锁的过程中产生竞争，则会升级为重量级锁。
- 重量级锁：多个线程同时获取锁。此时获取不到会产生自旋

4. MarkWord？
对象在JVM堆中的结构由对象头、实例数据、对齐填充组成。
而对象头包括MarkWord和类型指针。
MarkWord记录了对象的运行时数据，比如hashcode、gc分代年龄、偏向标记、锁标记、偏向的线程id等。
3. 讲讲volatile
